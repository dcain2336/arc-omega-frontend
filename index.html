<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title>
  <link rel="stylesheet" href="/hud.css" />
</head>
<body>

  <!-- Top bar -->
  <header class="topbar">
    <button class="iconbtn" id="btnMenu" aria-label="Menu">‚ò∞</button>

    <div class="topbar__center">
      <div class="statusDot" id="statusDot"></div>
      <div class="statusText mono" id="statusText">ARC: ONLINE</div>
    </div>

    <div class="topbar__right">
      <button class="iconbtn" id="btnBlackout" aria-label="Blackout">‚¨õ</button>
      <button class="iconbtn" id="btnTools" aria-label="Tools">üõ†Ô∏è</button>
    </div>
  </header>

  <!-- Backdrop (for side panels) -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <!-- LEFT: Side menu -->
  <aside class="panel panel--left" id="sidemenu" aria-hidden="true">
    <div class="panel__head">
      <div class="mono panel__title">MENU</div>
      <button class="iconbtn" id="btnCloseMenu" aria-label="Close">‚úï</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Sessions</div>
      <button class="menubtn" disabled>View previous sessions (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Files</div>
      <button class="menubtn" disabled>Created files (Phase 2)</button>
      <button class="menubtn" disabled>Upload vault (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">System</div>
      <button class="menubtn" disabled>Updates (Phase 3)</button>
      <button class="menubtn" disabled>Council logs (Phase 3)</button>
    </div>

    <div class="panel__foot mono">ARC ‚Ä¢ COMMAND CENTER</div>
  </aside>

  <!-- RIGHT: Tools panel -->
  <aside class="panel panel--right" id="toolspanel" aria-hidden="true">
    <div class="panel__head">
      <div class="mono panel__title">TOOLS</div>
      <button class="iconbtn" id="btnCloseTools" aria-label="Close">‚úï</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Quick</div>
      <button class="toolbtn" disabled>Weather lookup (Phase 2)</button>
      <button class="toolbtn" disabled>News search (Phase 2)</button>
      <button class="toolbtn" disabled>File analyze (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Security</div>
      <button class="toolbtn" disabled>Threat board (Phase 3)</button>
      <button class="toolbtn" disabled>Ghost mode (Phase 3)</button>
    </div>

    <div class="panel__foot mono">(Routes to backend later)</div>
  </aside>

  <!-- Main layout -->
  <main class="layout">

    <!-- LEFT: ARC reactor -->
    <section class="tile reactorTile" aria-label="ARC Reactor">
      <div class="tile__head">
        <div class="tile__title">ARC</div>
        <div class="tile__pill mono" id="modePill">BLUE</div>
      </div>

      <div class="reactorWrap">
        <!-- Updated: EQUILATERAL triangles + no overhangs + missing top connector lines added -->
        <svg viewBox="0 0 320 320" class="reactor" aria-hidden="true">
          <defs>
            <!-- glow aura -->
            <radialGradient id="cyanCore" cx="50%" cy="45%" r="62%">
              <stop offset="0%"  stop-color="rgba(0,229,255,1)"/>
              <stop offset="40%" stop-color="rgba(0,229,255,.85)"/>
              <stop offset="72%" stop-color="rgba(0,229,255,.35)"/>
              <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
            </radialGradient>

            <!-- solid cyan base -->
            <radialGradient id="cyanDisk" cx="50%" cy="45%" r="85%">
              <stop offset="0%"  stop-color="rgba(0,229,255,.98)"/>
              <stop offset="55%" stop-color="rgba(0,229,255,.90)"/>
              <stop offset="100%" stop-color="rgba(0,229,255,.72)"/>
            </radialGradient>

            <!-- gunmetal ring -->
            <linearGradient id="gunmetal" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="rgba(20,26,36,.98)"/>
              <stop offset="55%" stop-color="rgba(8,10,14,.98)"/>
              <stop offset="100%" stop-color="rgba(28,34,44,.98)"/>
            </linearGradient>

            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="10" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>

            <filter id="soft" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="1.25" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <!-- cyan aura -->
          <circle cx="160" cy="160" r="128" fill="url(#cyanCore)" filter="url(#glow)"/>

          <!-- SOLID CYAN DISK -->
          <circle cx="160" cy="160" r="108" fill="url(#cyanDisk)"/>

          <!-- OUTER GUNMETAL RING -->
          <circle cx="160" cy="160" r="128" fill="none" stroke="url(#gunmetal)" stroke-width="18"/>

          <!-- inner subtle ring -->
          <circle cx="160" cy="160" r="114" fill="none" stroke="rgba(0,0,0,.28)" stroke-width="2"/>

          <!-- ===== ‚ÄúREFERENCE-LIKE‚Äù DETAILS ===== -->
          <!-- Thin tick segments around the rim -->
          <g opacity="0.25" stroke="rgba(0,0,0,.65)" stroke-width="4" stroke-linecap="round">
            <!-- 12 ticks -->
            <line x1="160" y1="20"  x2="160" y2="34"/>
            <line x1="240" y1="40"  x2="232" y2="52"/>
            <line x1="286" y1="110" x2="272" y2="110"/>
            <line x1="278" y1="190" x2="265" y2="186"/>
            <line x1="240" y1="280" x2="232" y2="268"/>
            <line x1="160" y1="300" x2="160" y2="286"/>
            <line x1="80"  y1="280" x2="88"  y2="268"/>
            <line x1="42"  y1="190" x2="55"  y2="186"/>
            <line x1="34"  y1="110" x2="48"  y2="110"/>
            <line x1="80"  y1="40"  x2="88"  y2="52"/>
            <!-- two extra small ticks -->
            <line x1="210" y1="28"  x2="206" y2="40"/>
            <line x1="110" y1="28"  x2="114" y2="40"/>
          </g>

          <!-- faint outer ring line -->
          <circle cx="160" cy="160" r="137" fill="none" stroke="rgba(0,229,255,.09)" stroke-width="2"/>

          <!-- ===== TRIANGLES + CONNECTORS ===== -->
          <g filter="url(#soft)">

            <!-- EQUILATERAL BIG TRIANGLE:
                 Side length = 180
                 Height = 180 * sqrt(3)/2 ‚âà 155.885
                 Top Y = 82.0575, Bottom Y = 237.9425, Center X = 160
                 A(70,82.0575), B(250,82.0575), C(160,237.9425)
            -->
            <path id="triBig"
              d="M 70 82.0575 L 250 82.0575 L 160 237.9425 Z"
              fill="none"
              stroke="rgba(6,8,10,.98)"
              stroke-width="14"
              stroke-linejoin="round"/>

            <!-- EQUILATERAL SMALL TRIANGLE (scaled, centered):
                 scale ~ 0.42 of big around centroid.
                 Using vertices:
                 A'(122.2,122.6) B'(197.8,122.6) C'(160,188.1)
            -->
            <path id="triSmall"
              d="M 122.2 122.6 L 197.8 122.6 L 160 188.1 Z"
              fill="none"
              stroke="rgba(6,8,10,.98)"
              stroke-width="12"
              stroke-linejoin="round"/>

            <!-- CONNECTORS: small -> big corners (no overhang: endpoints land on vertices) -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="122.2" y1="122.6" x2="70"  y2="82.0575"/>
              <line x1="197.8" y1="122.6" x2="250" y2="82.0575"/>
              <line x1="160"   y1="188.1" x2="160" y2="237.9425"/>
            </g>

            <!-- SIDE STRUTS: two per side, trimmed to end before outer ring (no overhang) -->
            <!-- Left side struts -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="118" y1="156" x2="72"  y2="182"/>
              <line x1="132" y1="190" x2="86"  y2="216"/>
            </g>

            <!-- Right side struts -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="202" y1="156" x2="248" y2="182"/>
              <line x1="188" y1="190" x2="234" y2="216"/>
            </g>

            <!-- ‚úÖ MISSING TOP CONNECTOR LINES (2):
                 Connect top side of big triangle to ring, no overhang.
                 These go upward from points along top edge to near rim.
            -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="112" y1="82.0575" x2="112" y2="48"/>
              <line x1="208" y1="82.0575" x2="208" y2="48"/>
            </g>

            <!-- CORNER ‚ÄúLOCK‚Äù STUBS: trimmed so they stop at the ring line (no sticking out) -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="12">
              <line x1="70"  y1="82.0575" x2="58"  y2="70"/>
              <line x1="250" y1="82.0575" x2="262" y2="70"/>
              <line x1="160" y1="237.9425" x2="160" y2="252"/>
            </g>

          </g>
        </svg>
      </div>

      <div class="tile__foot">
        <div class="mini">Pulse sync: <span class="mono" id="pulseState">IDLE</span></div>
        <div class="mini">Council: <span class="mono">BACKEND</span></div>
      </div>
    </section>

    <!-- CENTER: CHAT -->
    <section class="tile chatTile" aria-label="Chat">
      <div class="tile__head">
        <div class="tile__title">COMMAND</div>
        <div class="tile__pill mono">PHASE 1</div>
      </div>

      <div class="chatFeed" id="chatFeed">
        <div class="msg msg--arc">
          <div class="msg__meta mono">ARC</div>
          <div class="msg__body">Command Center initialized.</div>
        </div>
      </div>

      <div class="chatInput">
        <input id="chatBox" placeholder="Type..." autocomplete="off" />
        <button id="btnSend" class="sendbtn">SEND</button>
      </div>

      <div class="tile__foot">
        <div class="mini">Uploads + memory + tools: Phase 2</div>
      </div>
    </section>

    <!-- RIGHT: GLOBE + WAR CHEST -->
    <section class="rightStack" aria-label="Right Stack">

      <div class="tile">
        <div class="tile__head">
          <div class="tile__title">GLOBE</div>
          <div class="tile__pill mono">PHASE 2</div>
        </div>

        <div class="globe">
          <svg viewBox="0 0 220 220" class="globe__svg" aria-hidden="true">
            <defs>
              <radialGradient id="gg" cx="45%" cy="40%" r="70%">
                <stop offset="0%" stop-color="rgba(0,229,255,.24)"/>
                <stop offset="60%" stop-color="rgba(0,229,255,.10)"/>
                <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
              </radialGradient>
              <filter id="gbloom" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2.5" result="b"/>
                <feMerge>
                  <feMergeNode in="b"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <circle cx="110" cy="110" r="92" fill="rgba(255,255,255,.02)" stroke="rgba(69,214,255,.18)" stroke-width="2"/>
            <circle cx="110" cy="110" r="92" fill="url(#gg)"/>

            <g stroke="rgba(69,214,255,.14)" stroke-width="2" fill="none">
              <ellipse cx="110" cy="110" rx="70" ry="26"/>
              <ellipse cx="110" cy="110" rx="82" ry="44"/>
              <ellipse cx="110" cy="110" rx="88" ry="62"/>
            </g>

            <g stroke="rgba(69,214,255,.14)" stroke-width="2" fill="none">
              <path d="M110 18 C80 50,80 170,110 202 C140 170,140 50,110 18 Z"/>
              <path d="M110 18 C95 50,95 170,110 202 C125 170,125 50,110 18 Z"/>
              <path d="M110 18 C65 55,65 165,110 202 C155 165,155 55,110 18 Z"/>
            </g>

            <g filter="url(#gbloom)">
              <circle cx="150" cy="118" r="5" fill="rgba(0,229,255,.85)"/>
              <circle cx="150" cy="118" r="12" fill="none" stroke="rgba(0,229,255,.35)" stroke-width="2"/>
            </g>
          </svg>
        </div>

        <div class="tile__foot">
          <div class="mini">Location: (Phase 2)</div>
          <div class="mini">MGRS: (Phase 2)</div>
        </div>
      </div>

      <div class="tile">
        <div class="tile__head">
          <div class="tile__title">WAR CHEST</div>
          <div class="tile__pill mono">PHASE 3</div>
        </div>

        <div class="chest">
          <div class="chest__row">
            <div class="chest__label">Status</div>
            <div class="chest__value mono" id="chestStatus">LOCKED</div>
          </div>
          <div class="chest__row">
            <div class="chest__label">Balance</div>
            <div class="chest__value mono" id="chestBalance">$0.00</div>
          </div>
          <div class="chest__row">
            <div class="chest__label">Last</div>
            <div class="chest__value mono" id="chestLast">‚Äî</div>
          </div>

          <button class="toolbtn toolbtn--ghost" disabled>Manage (coming soon)</button>
          <div class="panel__note">Later: approvals, audit logs, balances.</div>
        </div>
      </div>

    </section>
  </main>

  <!-- Bottom tickers -->
  <footer class="tickers">
    <div class="ticker mono" id="tickerTime">
      NYC 00:00 | CHI 00:00 | DEN 00:00 | LAX 00:00 | UTC 00:00 | OKI 00:00 | KOR 00:00 | PHI 00:00
    </div>
    <div class="ticker mono" id="tickerNews">
      NEWS: (Phase 2) | STOCKS: (Phase 2) | CRYPTO: (Phase 2)
    </div>
  </footer>

  <!-- Blackout overlay -->
  <div class="blackout" id="blackout" aria-hidden="true">
    <div class="blackout__text mono">BLACKOUT ACTIVE ‚Äî ALL CLEAR REQUIRED</div>
    <button class="blackout__btn" id="btnAllClear">ALL CLEAR</button>
  </div>

  <script src="/hud.js"></script>
</body>
</html>