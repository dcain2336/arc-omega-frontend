<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title>
  <link rel="stylesheet" href="/hud.css" />
</head>
<body>

  <!-- Top bar -->
  <header class="topbar">
    <button class="iconbtn" id="btnMenu" aria-label="Menu">‚ò∞</button>

    <div class="topbar__center">
      <div class="statusDot" id="statusDot"></div>
      <div class="statusText mono" id="statusText">ARC: ONLINE</div>
    </div>

    <div class="topbar__right">
      <button class="iconbtn" id="btnBlackout" aria-label="Blackout">‚¨õ</button>
      <button class="iconbtn" id="btnTools" aria-label="Tools">üõ†Ô∏è</button>
    </div>
  </header>

  <!-- Backdrop (for side panels) -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <!-- LEFT: Side menu -->
  <aside class="panel panel--left" id="sidemenu" aria-hidden="true">
    <div class="panel__head">
      <div class="mono panel__title">MENU</div>
      <button class="iconbtn" id="btnCloseMenu" aria-label="Close">‚úï</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Sessions</div>
      <button class="menubtn" disabled>View previous sessions (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Files</div>
      <button class="menubtn" disabled>Created files (Phase 2)</button>
      <button class="menubtn" disabled>Upload vault (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">System</div>
      <button class="menubtn" disabled>Updates (Phase 3)</button>
      <button class="menubtn" disabled>Council logs (Phase 3)</button>
    </div>

    <div class="panel__foot mono">ARC ‚Ä¢ COMMAND CENTER</div>
  </aside>

  <!-- RIGHT: Tools panel -->
  <aside class="panel panel--right" id="toolspanel" aria-hidden="true">
    <div class="panel__head">
      <div class="mono panel__title">TOOLS</div>
      <button class="iconbtn" id="btnCloseTools" aria-label="Close">‚úï</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Quick</div>
      <button class="toolbtn" disabled>Weather lookup (Phase 2)</button>
      <button class="toolbtn" disabled>News search (Phase 2)</button>
      <button class="toolbtn" disabled>File analyze (Phase 2)</button>
    </div>

    <div class="panel__section">
      <div class="panel__label">Security</div>
      <button class="toolbtn" disabled>Threat board (Phase 3)</button>
      <button class="toolbtn" disabled>Ghost mode (Phase 3)</button>
    </div>

    <div class="panel__foot mono">(Routes to backend later)</div>
  </aside>

  <!-- Main layout -->
  <main class="layout">

    <!-- LEFT: ARC reactor -->
    <section class="tile reactorTile" aria-label="ARC Reactor">
      <div class="tile__head">
        <div class="tile__title">ARC</div>
        <div class="tile__pill mono" id="modePill">BLUE</div>
      </div>

      <div class="reactorWrap">
        <!-- Geometry notes:
             - Outer ring radius: 128 at (160,160)
             - Big triangle vertices are ON the circle (perfect fit):
                 A (top-left)  = (70, 70)
                 B (top-right) = (250, 70)
                 C (bottom)    = (160, 288)
           -->
        <svg viewBox="0 0 320 320" class="reactor" aria-hidden="true">
          <defs>
            <!-- glow aura -->
            <radialGradient id="cyanCore" cx="50%" cy="45%" r="62%">
              <stop offset="0%"  stop-color="rgba(0,229,255,1)"/>
              <stop offset="40%" stop-color="rgba(0,229,255,.85)"/>
              <stop offset="72%" stop-color="rgba(0,229,255,.35)"/>
              <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
            </radialGradient>

            <!-- solid cyan base -->
            <radialGradient id="cyanDisk" cx="50%" cy="45%" r="85%">
              <stop offset="0%"  stop-color="rgba(0,229,255,.98)"/>
              <stop offset="55%" stop-color="rgba(0,229,255,.90)"/>
              <stop offset="100%" stop-color="rgba(0,229,255,.72)"/>
            </radialGradient>

            <!-- gunmetal ring -->
            <linearGradient id="gunmetal" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="rgba(20,26,36,.98)"/>
              <stop offset="55%" stop-color="rgba(8,10,14,.98)"/>
              <stop offset="100%" stop-color="rgba(28,34,44,.98)"/>
            </linearGradient>

            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="10" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>

            <filter id="soft" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="1.6" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <!-- cyan aura -->
          <circle cx="160" cy="160" r="128" fill="url(#cyanCore)" filter="url(#glow)"/>

          <!-- SOLID CYAN DISK -->
          <circle cx="160" cy="160" r="108" fill="url(#cyanDisk)"/>

          <!-- OUTER GUNMETAL RING -->
          <circle cx="160" cy="160" r="128" fill="none" stroke="url(#gunmetal)" stroke-width="18"/>

          <!-- inner subtle ring -->
          <circle cx="160" cy="160" r="114" fill="none" stroke="rgba(0,0,0,.28)" stroke-width="2"/>

          <!-- ===== TRIANGLES + CONNECTORS ===== -->
          <g filter="url(#soft)">

            <!-- BIG TRIANGLE (solid gunmetal stroke) -->
            <path id="triBig"
              d="M 70 70 L 250 70 L 160 288 Z"
              fill="none"
              stroke="rgba(6,8,10,.98)"
              stroke-width="14"
              stroke-linejoin="round"/>

            <!-- SMALL TRIANGLE (centered inside big one)
                 Vertices are on lines from center towards big vertices,
                 so they align with A,B,C directions and feel ‚Äúlocked in‚Äù.
                 A'=(126,126) B'=(194,126) C'=(160,206)
            -->
            <path id="triSmall"
              d="M 126 126 L 194 126 L 160 206 Z"
              fill="none"
              stroke="rgba(6,8,10,.98)"
              stroke-width="12"
              stroke-linejoin="round"/>

            <!-- CONNECTORS: small triangle vertices -> big triangle corners -->
            <g stroke-linecap="round">
              <line x1="126" y1="126" x2="70"  y2="70"  stroke="rgba(6,8,10,.98)" stroke-width="10"/>
              <line x1="194" y1="126" x2="250" y2="70"  stroke="rgba(6,8,10,.98)" stroke-width="10"/>
              <line x1="160" y1="206" x2="160" y2="288" stroke="rgba(6,8,10,.98)" stroke-width="10"/>
            </g>

            <!-- SIDE STRUTS: two lines per side connecting big triangle sides to circle border -->
            <!-- Left side (A->C). Struts go outward to ring (approx points on circle). -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="114" y1="160" x2="56"  y2="192"/>
              <line x1="134" y1="210" x2="68"  y2="242"/>
            </g>

            <!-- Right side (B->C) -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="10">
              <line x1="206" y1="160" x2="264" y2="192"/>
              <line x1="186" y1="210" x2="252" y2="242"/>
            </g>

            <!-- CORNER ‚ÄúLOCK‚Äù INTO RING: short stubs so corners visibly attach to the border -->
            <g stroke-linecap="round" stroke="rgba(6,8,10,.98)" stroke-width="12">
              <line x1="70"  y1="70"  x2="54"  y2="54"/>
              <line x1="250" y1="70"  x2="266" y2="54"/>
              <line x1="160" y1="288" x2="160" y2="306"/>
            </g>
          </g>
        </svg>
      </div>

      <div class="tile__foot">
        <div class="mini">Pulse sync: <span class="mono" id="pulseState">IDLE</span></div>
        <div class="mini">Council: <span class="mono">BACKEND</span></div>
      </div>
    </section>

    <!-- CENTER: CHAT -->
    <section class="tile chatTile" aria-label="Chat">
      <div class="tile__head">
        <div class="tile__title">COMMAND</div>
        <div class="tile__pill mono">PHASE 1</div>
      </div>

      <div class="chatFeed" id="chatFeed">
        <div class="msg msg--arc">
          <div class="msg__meta mono">ARC</div>
          <div class="msg__body">Command Center initialized.</div>
        </div>
      </div>

      <div class="chatInput">
        <input id="chatBox" placeholder="Type..." autocomplete="off" />
        <button id="btnSend" class="sendbtn">SEND</button>
      </div>

      <div class="tile__foot">
        <div class="mini">Uploads + memory + tools: Phase 2</div>
      </div>
    </section>

    <!-- RIGHT: GLOBE + WAR CHEST -->
    <section class="rightStack" aria-label="Right Stack">

      <div class="tile">
        <div class="tile__head">
          <div class="tile__title">GLOBE</div>
          <div class="tile__pill mono">PHASE 2</div>
        </div>

        <div class="globe">
          <svg viewBox="0 0 220 220" class="globe__svg" aria-hidden="true">
            <defs>
              <radialGradient id="gg" cx="45%" cy="40%" r="70%">
                <stop offset="0%" stop-color="rgba(0,229,255,.24)"/>
                <stop offset="60%" stop-color="rgba(0,229,255,.10)"/>
                <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
              </radialGradient>
              <filter id="gbloom" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2.5" result="b"/>
                <feMerge>
                  <feMergeNode in="b"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <circle cx="110" cy="110" r="92" fill="rgba(255,255,255,.02)" stroke="rgba(69,214,255,.18)" stroke-width="2"/>
            <circle cx="110" cy="110" r="92" fill="url(#gg)"/>

            <g stroke="rgba(69,214,255,.14)" stroke-width="2" fill="none">
              <ellipse cx="110" cy="110" rx="70" ry="26"/>
              <ellipse cx="110" cy="110" rx="82" ry="44"/>
              <ellipse cx="110" cy="110" rx="88" ry="62"/>
            </g>

            <g stroke="rgba(69,214,255,.14)" stroke-width="2" fill="none">
              <path d="M110 18 C80 50,80 170,110 202 C140 170,140 50,110 18 Z"/>
              <path d="M110 18 C95 50,95 170,110 202 C125 170,125 50,110 18 Z"/>
              <path d="M110 18 C65 55,65 165,110 202 C155 165,155 55,110 18 Z"/>
            </g>

            <g filter="url(#gbloom)">
              <circle cx="150" cy="118" r="5" fill="rgba(0,229,255,.85)"/>
              <circle cx="150" cy="118" r="12" fill="none" stroke="rgba(0,229,255,.35)" stroke-width="2"/>
            </g>
          </svg>
        </div>

        <div class="tile__foot">
          <div class="mini">Location: (Phase 2)</div>
          <div class="mini">MGRS: (Phase 2)</div>
        </div>
      </div>

      <div class="tile">
        <div class="tile__head">
          <div class="tile__title">WAR CHEST</div>
          <div class="tile__pill mono">PHASE 3</div>
        </div>

        <div class="chest">
          <div class="chest__row">
            <div class="chest__label">Status</div>
            <div class="chest__value mono" id="chestStatus">LOCKED</div>
          </div>
          <div class="chest__row">
            <div class="chest__label">Balance</div>
            <div class="chest__value mono" id="chestBalance">$0.00</div>
          </div>
          <div class="chest__row">
            <div class="chest__label">Last</div>
            <div class="chest__value mono" id="chestLast">‚Äî</div>
          </div>

          <button class="toolbtn toolbtn--ghost" disabled>Manage (coming soon)</button>
          <div class="panel__note">Later: approvals, audit logs, balances.</div>
        </div>
      </div>

    </section>
  </main>

  <!-- Bottom tickers -->
  <footer class="tickers">
    <div class="ticker mono" id="tickerTime">
      NYC 00:00 | CHI 00:00 | DEN 00:00 | LAX 00:00 | UTC 00:00 | OKI 00:00 | KOR 00:00 | PHI 00:00
    </div>
    <div class="ticker mono" id="tickerNews">
      NEWS: (Phase 2) | STOCKS: (Phase 2) | CRYPTO: (Phase 2)
    </div>
  </footer>

  <!-- Blackout overlay -->
  <div class="blackout" id="blackout" aria-hidden="true">
    <div class="blackout__text mono">BLACKOUT ACTIVE ‚Äî ALL CLEAR REQUIRED</div>
    <button class="blackout__btn" id="btnAllClear">ALL CLEAR</button>
  </div>

  <script src="/hud.js"></script>
</body>
</html>